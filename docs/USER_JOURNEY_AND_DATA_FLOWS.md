# ğŸ¯ User Journey & Data Flow Diagrams

## 1ï¸âƒ£ School User Journey

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø¯Ø±Ø³Ø©                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. DASHBOARD
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©   â”‚
â”‚                         â”‚
â”‚  ğŸ“Š Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª:         â”‚
â”‚  â€¢ Ø´Ø­Ù†Ø§Øª Ù‚Ø§Ø¯Ù…Ø©: 5      â”‚
â”‚  â€¢ Ø´Ø­Ù†Ø§Øª Ù…Ø³ØªÙ„Ù…Ø©: 12    â”‚
â”‚  â€¢ Ø·Ù„Ø¨Ø§Øª Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©: 2â”‚
â”‚  â€¢ Ø·Ù„Ø¨Ø§Øª Ù…Ø¹ØªÙ…Ø¯Ø©: 8     â”‚
â”‚                         â”‚
â”‚  ğŸ”˜ Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ â†â”  â”‚
â”‚  ğŸ”˜ Ø¹Ø±Ø¶ Ø§Ù„Ø´Ø­Ù†Ø§Øª  â†â” â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“              â†“
          â”‚              â”‚
          â”‚              â”‚
2A. CREATE REQUEST  2B. VIEW SHIPMENTS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯  â”‚    â”‚  Ø¹Ø±Ø¶ Ø§Ù„Ø´Ø­Ù†Ø§Øª        â”‚
â”‚                  â”‚    â”‚                      â”‚
â”‚ 1ï¸âƒ£ Ø§Ø®ØªØ± ÙØµÙ„      â”‚    â”‚ ğŸ“‹ Ø§Ù„Ø´Ø­Ù†Ø§Øª Ø§Ù„ÙˆØ§Ø±Ø¯Ø©: â”‚
â”‚   â†“              â”‚    â”‚ â€¢ Ù…Ù† Ø§Ù„ÙˆØ²Ø§Ø±Ø©        â”‚
â”‚ 2ï¸âƒ£ Ø§Ø®ØªØ± ØµÙ       â”‚    â”‚ â€¢ ØªØ§Ø±ÙŠØ® Ø§Ù„ÙˆØµÙˆÙ„      â”‚
â”‚   (Ù…Ù† API)       â”‚    â”‚ â€¢ Ø§Ù„ÙƒØªØ¨ (Ø¹Ø¯Ø¯)       â”‚
â”‚   â†“              â”‚    â”‚ â€¢ Ø§Ù„Ø­Ø§Ù„Ø©            â”‚
â”‚ 3ï¸âƒ£ Ø§Ø®ØªØ± Ù…Ø§Ø¯Ø©    â”‚    â”‚ â€¢ Ø§Ù„Ù…Ù†Ø¯ÙˆØ¨           â”‚
â”‚   (Ù…Ù† API)       â”‚    â”‚ â€¢ QR Code          â”‚
â”‚   â†“              â”‚    â”‚                      â”‚
â”‚ 4ï¸âƒ£ Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙ…ÙŠØ©   â”‚    â”‚ ğŸ“‹ Ø§Ù„Ø´Ø­Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªÙ„Ù…Ø©:â”‚
â”‚   â†“              â”‚    â”‚ â€¢ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„  â”‚
â”‚ 5ï¸âƒ£ Ø£Ø¶Ù Ø§Ù„ÙƒØªØ§Ø¨   â”‚    â”‚ â€¢ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„          â”‚
â”‚                  â”‚    â”‚ â€¢ Ø§Ù„ØªÙˆÙ‚ÙŠØ¹          â”‚
â”‚ ... (ÙƒØ±Ø±)        â”‚    â”‚                      â”‚
â”‚                  â”‚    â”‚ [Refresh Button]   â”‚
â”‚ âœ… Ø¥Ø±Ø³Ø§Ù„         â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
    Backend
    POST /api/school-requests/
    create_from_flutter/
```

---

## 2ï¸âƒ£ Order Creation Data Flow (ØªÙØµÙŠÙ„ÙŠ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   User Interactions                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ 1. Select Semester (First/Second)
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ GradeService.fetchGrades()      â”‚
         â”‚ GET /api/grades/                â”‚
         â”‚                                 â”‚
         â”‚ Response:                       â”‚
         â”‚ [                               â”‚
         â”‚   {id: 1, name: "Ø£ÙˆÙ„ Ø£Ø³Ø§Ø³ÙŠ"},  â”‚
         â”‚   {id: 2, name: "Ø«Ø§Ù†ÙŠ Ø£Ø³Ø§Ø³ÙŠ"},  â”‚
         â”‚   ...                           â”‚
         â”‚ ]                               â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ 2. Display Grades & Select One  â”‚
         â”‚    Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØµÙÙˆÙ â†“              â”‚
         â”‚    [Ø£ÙˆÙ„ Ø£Ø³Ø§Ø³ÙŠ âœ“]              â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ GradeService.fetchSubjectsByGrade
         â”‚ GET /api/grades/{id}/subjects/  â”‚
         â”‚                                 â”‚
         â”‚ Response:                       â”‚
         â”‚ [                               â”‚
         â”‚   {id: 5, name: "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"},    â”‚
         â”‚   {id: 6, name: "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª"},  â”‚
         â”‚   ...                           â”‚
         â”‚ ]                               â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ 3. Display Subjects & Select Oneâ”‚
         â”‚    Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙˆØ§Ø¯ â†“              â”‚
         â”‚    [Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© âœ“]                â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ 4. Enter Quantity               â”‚
         â”‚    Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙ…ÙŠØ©: 50             â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ 5. Create Book Object           â”‚
         â”‚ Book(                           â”‚
         â”‚   id: unique,                   â”‚
         â”‚   title: "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",            â”‚
         â”‚   grade: "Ø£ÙˆÙ„ Ø£Ø³Ø§Ø³ÙŠ",          â”‚
         â”‚   quantity: 50,                 â”‚
         â”‚   gradeId: 1,     âœ… Ù…Ù† API    â”‚
         â”‚   subjectId: 5    âœ… Ù…Ù† API    â”‚
         â”‚ )                               â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ 6. Add to List & Repeat Step 2-5â”‚
         â”‚    Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙƒØªØ¨:                â”‚
         â”‚    â€¢ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (50) - ÙØµÙ„ Ø£ÙˆÙ„   â”‚
         â”‚    â€¢ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª (40) - ÙØµÙ„ Ø£ÙˆÙ„â”‚
         â”‚    â€¢ Ø§Ù„Ø¹Ù„ÙˆÙ… (35) - ÙØµÙ„ Ø£ÙˆÙ„    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ 7. Submit Order                 â”‚
         â”‚    âœ… Ø²Ø± Ø§Ù„Ø¥Ø±Ø³Ø§Ù„              â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ OrderService.createSchoolRequestâ”‚
         â”‚ POST /api/school-requests/      â”‚
         â”‚      create_from_flutter/       â”‚
         â”‚                                 â”‚
         â”‚ Request Body:                   â”‚
         â”‚ {                               â”‚
         â”‚   "school_id": 45,              â”‚
         â”‚   "items": [                    â”‚
         â”‚     {                           â”‚
         â”‚       "subject_id": 5,  âœ…     â”‚
         â”‚       "grade_id": 1,    âœ…     â”‚
         â”‚       "term_number": 1,         â”‚
         â”‚       "quantity": 50            â”‚
         â”‚     },                          â”‚
         â”‚     ...                         â”‚
         â”‚   ]                             â”‚
         â”‚ }                               â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
                      Backend
                   âœ… Saved to DB
                          â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Response: {id, status, ...}     â”‚
         â”‚                                 â”‚
         â”‚ âœ… Success Message              â”‚
         â”‚ Ø·Ù„Ø¨Ùƒ ØªÙ… Ø¨Ù†Ø¬Ø§Ø­ (ID: 123)       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3ï¸âƒ£ Driver Journey

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ù†Ø¯ÙˆØ¨                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. DASHBOARD
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ù†Ø¯ÙˆØ¨           â”‚
â”‚                              â”‚
â”‚  ğŸ“Š Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª:              â”‚
â”‚  â€¢ Ø¥Ø¬Ù…Ø§Ù„ÙŠ: 127 ØªÙˆØµÙŠÙ„Ø©       â”‚
â”‚  â€¢ Ø§Ù„ÙŠÙˆÙ…: 8 ØªÙˆØµÙŠÙ„Ø§Øª         â”‚
â”‚  â€¢ Ø§Ù„Ø´Ù‡Ø±: 45 ØªÙˆØµÙŠÙ„Ø©         â”‚
â”‚  â€¢ Ø§Ù„Ù†Ø³Ø¨Ø©: 96.5%             â”‚
â”‚                              â”‚
â”‚  ğŸ”˜ Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª:               â”‚
â”‚  â”œâ”€ Ù†Ø´Ø·Ø© (5)    â† Current   â”‚
â”‚  â”œâ”€ Ø§Ù„Ø³Ø¬Ù„ (24)              â”‚
â”‚  â””â”€ Ø§Ù„Ø£Ø¯Ø§Ø¡                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“
2. ACTIVE SHIPMENTS TAB
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ø§Ù„Ø´Ø­Ù†Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© (5)          â”‚
â”‚  â”œâ”€ Ø´Ø­Ù†Ø© #1                  â”‚
â”‚  â”‚  Ù…Ù†: Ø§Ù„ÙˆØ²Ø§Ø±Ø©              â”‚
â”‚  â”‚  Ø¥Ù„Ù‰: Ù…Ø¯Ø±Ø³Ø© Ù…Ø­Ù…ÙˆØ¯          â”‚
â”‚  â”‚  Ø§Ù„ÙƒØªØ¨: 50 ÙƒØªØ§Ø¨           â”‚
â”‚  â”‚  Ø§Ù„Ø­Ø§Ù„Ø©: assigned         â”‚
â”‚  â”‚  [View Details] â†’â”         â”‚
â”‚  â”œâ”€ Ø´Ø­Ù†Ø© #2                  â”‚
â”‚  â”‚  ...                       â”‚
â”‚  â””â”€ Ø´Ø­Ù†Ø© #5                  â”‚
â”‚                              â”‚
â”‚  [Scan QR] [Refresh]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“
3A. SHIPMENT DETAILS   3B. SCAN QR
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø´Ø­Ù†Ø©   â”‚  â”‚ Ù…Ø³Ø­ Ø±Ù…Ø² QR      â”‚
â”‚                  â”‚  â”‚                 â”‚
â”‚ Ø±Ù‚Ù…: SHP-001    â”‚  â”‚ ğŸ“± Scanner     â”‚
â”‚ Ù…Ù†: Ø§Ù„ÙˆØ²Ø§Ø±Ø©      â”‚  â”‚                 â”‚
â”‚ Ø¥Ù„Ù‰: Ø§Ù„Ù…Ø¯Ø±Ø³Ø©    â”‚  â”‚ [Open Camera]  â”‚
â”‚ ÙƒØªØ¨: (Ù‚Ø§Ø¦Ù…Ø©)    â”‚  â”‚                 â”‚
â”‚ Ø§Ù„Ø­Ø§Ù„Ø©: assignedâ”‚  â”‚ Scanning...    â”‚
â”‚                  â”‚  â”‚                 â”‚
â”‚ ğŸ”˜ Ø¨Ø¯Ø¡ Ø§Ù„ØªÙˆØµÙŠÙ„ â”‚  â”‚ âœ… QR Found    â”‚
â”‚ ğŸ”˜ ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø©   â”‚  â”‚ ğŸ“¸ Photo proof â”‚
â”‚ ğŸ”˜ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªÙˆØµÙŠÙ„â”‚  â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ âœ… Delivered   â”‚
       â†“ Flow:         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
1. Click "Ø¨Ø¯Ø¡ Ø§Ù„ØªÙˆØµÙŠÙ„"
   POST .../start_delivery/
   Status: in_transit
       â”‚
2. Take Photo (Optional)
   POST .../upload-photo/
   Save proof image
       â”‚
3. Option A: Click "Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªÙˆØµÙŠÙ„"
   POST .../confirm_delivery/
   Status: delivered
       â”‚
   OR
       â”‚
   Option B: Scan QR Code
   POST .../unified-scan/
   Status: delivered
   (More automated)
       â”‚
       â†“
4. Back to Dashboard
   Shipment moved to History
   Performance updated
```

---

## 4ï¸âƒ£ Complete Data Model

```
BACKEND DATABASE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Grade (Ø§Ù„ØµÙÙˆÙ)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ id: 1                                        â”‚
â”‚ â€¢ name: "Ø£ÙˆÙ„ Ø£Ø³Ø§Ø³ÙŠ"                           â”‚
â”‚ â€¢ description: "Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠØ©"          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†‘
           â”‚ has many
           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Subject (Ø§Ù„Ù…ÙˆØ§Ø¯)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ id: 5                                        â”‚
â”‚ â€¢ grade_id: 1 (FK)                            â”‚
â”‚ â€¢ name: "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"                             â”‚
â”‚ â€¢ description: "Ù„ØºØ© Ø¹Ø±Ø¨ÙŠØ©"                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†‘
           â”‚ used in
           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SchoolRequest (Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø¯Ø±Ø³Ø©)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ id: 123                                      â”‚
â”‚ â€¢ school_id: 45                               â”‚
â”‚ â€¢ status: "submitted"                         â”‚
â”‚ â€¢ created_at: 2026-01-13                      â”‚
â”‚ â€¢ items: [...]                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†‘
           â”‚ contains
           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SchoolRequestItem (Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø·Ù„Ø¨)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ id: 456                                      â”‚
â”‚ â€¢ school_request_id: 123 (FK)                 â”‚
â”‚ â€¢ subject_id: 5 (FK) â† Ù…Ù† Ø§Ù„Ù€ Subject        â”‚
â”‚ â€¢ grade_id: 1 (FK) â† Ù…Ù† Ø§Ù„Ù€ Grade            â”‚
â”‚ â€¢ quantity: 50                                â”‚
â”‚ â€¢ term: "first"                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

MOBILE APP DATA MODEL
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Book (ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¬ÙˆØ§Ù„)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ id: string                                   â”‚
â”‚ â€¢ title: "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"                            â”‚
â”‚ â€¢ grade: "Ø£ÙˆÙ„ Ø£Ø³Ø§Ø³ÙŠ"                         â”‚
â”‚ â€¢ quantity: 50                                â”‚
â”‚ â€¢ gradeId: 1 â† Ù…Ù† Grade Backend              â”‚
â”‚ â€¢ subjectId: 5 â† Ù…Ù† Subject Backend          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
      Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰ Backend
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SchoolRequestItem (ÙÙŠ Backend)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ subject_id: 5 âœ…                            â”‚
â”‚ â€¢ grade_id: 1 âœ…                              â”‚
â”‚ â€¢ quantity: 50 âœ…                             â”‚
â”‚ â€¢ term: "first" âœ…                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5ï¸âƒ£ Shipment Display Flow

```
BACKEND
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Shipment (Ø§Ù„Ø´Ø­Ù†Ø©)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ id: 123                       â”‚
â”‚ â€¢ tracking_code: "SHP-001"      â”‚
â”‚ â€¢ status: "assigned"            â”‚
â”‚ â€¢ from_ministry: "Ø§Ù„ÙˆØ²Ø§Ø±Ø©"      â”‚
â”‚ â€¢ to_school: "Ù…Ø¯Ø±Ø³Ø© Ù…Ø­Ù…ÙˆØ¯"      â”‚
â”‚ â€¢ books: [...]                  â”‚
â”‚ â€¢ qr_code_image: "base64..."   â”‚
â”‚ â€¢ created_at: 2026-01-13       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
API Endpoint
GET /api/warehouses/school/
    shipments/incoming/
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ShipmentListResponse            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ count: 5                      â”‚
â”‚ â€¢ next: null                    â”‚
â”‚ â€¢ previous: null                â”‚
â”‚ â€¢ results: [                    â”‚
â”‚     ApiShipment {               â”‚
â”‚       id, tracking, status,    â”‚
â”‚       books, ...               â”‚
â”‚     },                          â”‚
â”‚     ...                         â”‚
â”‚   ]                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
MOBILE APP
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SchoolDeliveryService           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ incomingDeliveries: [...]     â”‚
â”‚ â€¢ receivedDeliveries: [...]     â”‚
â”‚ â€¢ pendingCount: 5               â”‚
â”‚ â€¢ isLoading: false              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SchoolDashboardNew              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ TabBar:                         â”‚
â”‚ â”œâ”€ Incoming (5)                â”‚
â”‚ â”‚  â”œâ”€ Shipment Card 1         â”‚
â”‚ â”‚  â”‚  â”œâ”€ Tracking: SHP-001    â”‚
â”‚ â”‚  â”‚  â”œâ”€ From: Ø§Ù„ÙˆØ²Ø§Ø±Ø©        â”‚
â”‚ â”‚  â”‚  â”œâ”€ To: Ù…Ø¯Ø±Ø³Ø©            â”‚
â”‚ â”‚  â”‚  â”œâ”€ Books: (Ù‚Ø§Ø¦Ù…Ø©)       â”‚
â”‚ â”‚  â”‚  â”œâ”€ Status: ğŸŸ  Ù‚Ø§Ø¯Ù…Ø©    â”‚
â”‚ â”‚  â”‚  â”œâ”€ Courier: Ù…Ø­Ù…Ø¯ Ø£Ø­Ù…Ø¯   â”‚
â”‚ â”‚  â”‚  â””â”€ QR Code: [ØµÙˆØ±Ø©]      â”‚
â”‚ â”‚  â”œâ”€ Shipment Card 2         â”‚
â”‚ â”‚  ...                          â”‚
â”‚ â””â”€ Received (12)               â”‚
â”‚    â”œâ”€ Shipment Card 1         â”‚
â”‚    â”‚  â”œâ”€ Status: ğŸŸ¢ Ù…Ø³ØªÙ„Ù…Ø©    â”‚
â”‚    â”‚  â”œâ”€ Received By: Ø¹Ù„ÙŠ     â”‚
â”‚    â”‚  â””â”€ Received At: 2026-01-10â”‚
â”‚    ...                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6ï¸âƒ£ Driver Operations Workflow

```
DRIVER APP STATE MACHINE

                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚   NOT STARTED   â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                  startDelivery()
                    POST .../start_delivery/
                         â”‚
                         â†“
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚  IN_TRANSIT     â”‚â—„â”€â”
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                         â”‚           â”‚
              uploadPhoto()           â”‚ updateLocation()
              uploadSignature()       â”‚ (background)
                         â”‚           â”‚
                    optionally--------â”˜
                         â”‚
              completeDelivery() OR scanQrCode()
              POST .../confirm_delivery/
              POST .../unified-scan/
                         â”‚
                         â†“
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚   DELIVERED     â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PERFORMANCE TRACKING

ShipmentService.fetchPerformance()
GET /api/warehouses/mobile/driver/performance/
                    â†“
        DriverPerformance {
          totalDeliveries: 127,
          completedToday: 8,
          thisMonth: 45,
          successRate: 96.5,
          averageDeliveryTime: "2h 30m",
          recentShipments: [...]
        }
                    â†“
         Display in Performance Tab
              â€¢ Statistics Cards
              â€¢ Charts (Optional)
              â€¢ Recent Deliveries
```

---

## 7ï¸âƒ£ API Request/Response Examples

### **School Order Creation**
```http
POST /api/school-requests/create_from_flutter/
Content-Type: application/json
Authorization: Bearer {token}

{
  "school_id": 45,
  "items": [
    {
      "subject_id": 5,
      "grade_id": 1,
      "term_number": 1,
      "quantity": 50
    },
    {
      "subject_id": 6,
      "grade_id": 1,
      "term_number": 1,
      "quantity": 40
    }
  ]
}

HTTP/201 Created
{
  "id": 123,
  "school": 45,
  "status": "submitted",
  "created_at": "2026-01-13T10:30:00Z",
  "items_readonly": [
    {
      "id": 456,
      "subject_id": 5,
      "grade_id": 1,
      "quantity": 50,
      "term": "first"
    }
  ]
}
```

### **Fetch Incoming Shipments**
```http
GET /api/warehouses/school/shipments/incoming/
Authorization: Bearer {token}

HTTP/200 OK
{
  "count": 5,
  "next": null,
  "previous": null,
  "results": [
    {
      "id": 789,
      "tracking_code": "SHP-001",
      "status": "assigned",
      "from_ministry": "Ø§Ù„ÙˆØ²Ø§Ø±Ø©",
      "to_school": "Ù…Ø¯Ø±Ø³Ø© Ù…Ø­Ù…ÙˆØ¯",
      "books": [
        {
          "id": 1,
          "book_id": 5,
          "book_title": "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",
          "quantity": 50,
          "subject": "Ù„ØºØ© Ø¹Ø±Ø¨ÙŠØ©",
          "grade": "Ø£ÙˆÙ„ Ø£Ø³Ø§Ø³ÙŠ"
        }
      ],
      "qr_code_image": "data:image/png;base64,...",
      "created_at": "2026-01-13T08:00:00Z"
    }
  ]
}
```

### **Start Delivery**
```http
POST /api/warehouses/mobile/driver/shipments/123/start_delivery/
Authorization: Bearer {token}

{}

HTTP/200 OK
{
  "success": true,
  "message": "ØªÙ… Ø¨Ø¯Ø¡ Ø§Ù„ØªÙˆØµÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­",
  "shipment": {
    "id": 123,
    "status": "in_transit"
  }
}
```

### **Complete Delivery via QR**
```http
POST /api/warehouses/mobile/unified-scan/
Authorization: Bearer {token}

{
  "qr_token": "550e8400-e29b-41d4-a716-446655440000",
  "recipient_name": "Ø£Ø­Ù…Ø¯ Ø¹Ù„ÙŠ",
  "latitude": 30.0444,
  "longitude": 31.2357,
  "notes": "ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ… Ø¨Ø­Ø§Ù„Ø© Ø¬ÙŠØ¯Ø©"
}

HTTP/200 OK
{
  "success": true,
  "message": "ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªØ³Ù„ÙŠÙ… Ø¨Ù†Ø¬Ø§Ø­",
  "shipment": {
    "id": 123,
    "tracking_code": "SHP-001",
    "status": "delivered"
  },
  "delivery_details": {
    "delivered_at": "2026-01-13T10:30:00Z",
    "recipient_name": "Ø£Ø­Ù…Ø¯ Ø¹Ù„ÙŠ",
    "location": {
      "latitude": 30.0444,
      "longitude": 31.2357
    }
  }
}
```

---

**Document Version:** 1.0  
**Last Updated:** 2026-01-13  
**Status:** âœ… Complete
